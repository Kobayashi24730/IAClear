import { useEffect, useState } from "react";
import Navbar from "../components/Navbar.jsx";
import Home from "../components/Home.jsx";
import ComoUsar from "../components/ComoUsar.jsx";

export default function App() {
  const [projectId, setProjectId] = useState(() => {
    const saved = localStorage.getItem("fisiqia_project");
    if (saved) return saved;

    const id = crypto.randomUUID();
    localStorage.setItem("fisiqia_project", id);
    return id;
  });

  function criarNovoProjeto() {
    const novo = crypto.randomUUID();
    localStorage.setItem("fisiqia_project", novo);
    setProjectId(novo);
  }

  return (
    <div style={{ fontFamily: "Inter, Arial, sans-serif" }}>
      {/* HEADER */}
      <header
        style={{
          display: "flex",
          justifyContent: "space-between",
          alignItems: "center",
          padding: "16px",
          background: "#111",
          color: "white",
        }}
      >
        <h1 style={{ margin: 0 }}>FisiQIA</h1>

        <div>
          <small style={{ marginRight: 12 }}>
            Projeto:
            <strong style={{ marginLeft: 6 }}>{projectId}</strong>
          </small>

          <button
            onClick={criarNovoProjeto}
            style={{
              padding: "8px 12px",
              background: "#4e8cff",
              color: "white",
              border: "none",
              borderRadius: 6,
              cursor: "pointer",
            }}
          >
            Novo Projeto
          </button>
        </div>
      </header>

      {/* CONTEÃšDO PRINCIPAL */}
      <main style={{ padding: 16 }}>
        <Navbar projectId={projectId} />
      </main>
      
      <div>
	<Home/>
      </div>	
    </div>
  );
}
